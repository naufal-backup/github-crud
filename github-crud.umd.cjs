var GithubCRUDLib=(()=>{var T=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var M=(h,t)=>{for(var e in t)T(h,e,{get:t[e],enumerable:!0})},j=(h,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of q(t))!L.call(h,a)&&a!==e&&T(h,a,{get:()=>t[a],enumerable:!(s=E(t,a))||s.enumerable});return h};var C=h=>j(T({},"__esModule",{value:!0}),h);var N={};M(N,{FormBuilder:()=>m,GithubAuth:()=>b,GithubCRUD:()=>k,GithubDatabase:()=>_,Permissions:()=>$,TableRenderer:()=>f,default:()=>O});var b=class{constructor(t){this.config=t,this._k=`gc:${t.repoOwner}/${t.repoName}`}getToken(){return sessionStorage.getItem(`${this._k}:token`)}setToken(t){sessionStorage.setItem(`${this._k}:token`,t)}clearSession(){["token","user","role"].forEach(t=>sessionStorage.removeItem(`${this._k}:${t}`))}login(){let t=this.config.redirectUri||`${location.origin}${location.pathname.replace(/\/[^/]*$/,"")}/callback.html`,e=new URLSearchParams({client_id:this.config.clientId,redirect_uri:t,scope:this.config.scope||"repo"});location.href=`https://github.com/login/oauth/authorize?${e}`}logout(){this.clearSession(),location.reload()}async exchangeCode(t){let e=this.config.workerUrl.replace(/\/$/,"")+"/exchange",a=await(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})})).json();if(!a.access_token)throw new Error(a.error||"Token tidak diterima dari worker.");return a.access_token}async _gh(t,e,s={}){return fetch(`https://api.github.com${t}`,{...s,headers:{Authorization:`Bearer ${e}`,Accept:"application/vnd.github+json",...s.headers}})}async getUser(t){let e=await this._gh("/user",t);if(!e.ok)throw new Error("Gagal mengambil profil GitHub. Coba login ulang.");return e.json()}async isCollaborator(t,e){let{repoOwner:s,repoName:a}=this.config;return(await this._gh(`/repos/${s}/${a}/collaborators/${e}`,t)).status===204}async detectRole(t,e){let{collections:s=[],roles:a=[],repoOwner:r,repoName:i}=this.config,n=s.find(o=>{var c;return(c=o.schema)==null?void 0:c.some(l=>["github","username"].includes(l.key))});if(n)try{let o=await this._gh(`/repos/${r}/${i}/contents/${n.file}`,t);if(o.ok){let c=await o.json(),d=JSON.parse(atob(c.content.replace(/\n/g,""))).find(u=>u.github===e||u.username===e);if(d!=null&&d.role&&a.includes(d.role))return d.role}}catch{}return e===r&&a.length?a[0]:a[a.length-1]||"viewer"}async init(){let t=this.getToken();if(!t)return null;let e=sessionStorage.getItem(`${this._k}:user`);if(e)return{user:JSON.parse(e),role:sessionStorage.getItem(`${this._k}:role`),token:t};let s=await this.getUser(t);if(!await this.isCollaborator(t,s.login))throw this.clearSession(),new Error(`@${s.login} bukan collaborator repo ${this.config.repoOwner}/${this.config.repoName}.`);let r=await this.detectRole(t,s.login);return sessionStorage.setItem(`${this._k}:user`,JSON.stringify(s)),sessionStorage.setItem(`${this._k}:role`,r),{user:s,role:r,token:t}}};var _=class{constructor(t,e){this.config=t,this._token=e}_base(){let{repoOwner:t,repoName:e}=this.config;return`https://api.github.com/repos/${t}/${e}/contents`}_headers(t={}){return{Authorization:`Bearer ${this._token}`,Accept:"application/vnd.github+json","Content-Type":"application/json",...t}}async read(t){let e=await fetch(`${this._base()}/${t}`,{headers:this._headers()});if(e.status===404)return{data:[],sha:null};if(!e.ok)throw new Error(`Gagal membaca ${t} (HTTP ${e.status})`);let s=await e.json(),a=JSON.parse(atob(s.content.replace(/\n/g,"")));return{data:Array.isArray(a)?a:[],sha:s.sha}}async write(t,e,s,a){let r=btoa(unescape(encodeURIComponent(JSON.stringify(e,null,2)))),i={message:a,content:r};s&&(i.sha=s);let n=await fetch(`${this._base()}/${t}`,{method:"PUT",headers:this._headers(),body:JSON.stringify(i)});if(!n.ok){let c=await n.json().catch(()=>({}));throw new Error(c.message||`Gagal menyimpan ${t}`)}return(await n.json()).content.sha}async getAll(t){return this.read(t.file)}async insert(t,e,s){var c;let{data:a,sha:r}=await this.read(t.file),i=(c=t.schema)==null?void 0:c.find(l=>l.auto);i&&(e[i.key]=a.reduce((l,d)=>Math.max(l,Number(d[i.key])||0),0)+1),t.timestamps&&(e.createdAt=new Date().toISOString(),e.updatedAt=new Date().toISOString());let n=[...a,e],o=await this.write(t.file,n,r,`[github-crud] Add to ${t.label} by @${s}`);return{record:e,sha:o}}async update(t,e,s,a){var l,d;let{data:r,sha:i}=await this.read(t.file),n=((d=(l=t.schema)==null?void 0:l.find(u=>u.auto))==null?void 0:d.key)||"id",o=r.findIndex(u=>String(u[n])===String(e));if(o===-1)throw new Error(`Record dengan id=${e} tidak ditemukan.`);t.timestamps&&(s.updatedAt=new Date().toISOString()),r[o]={...r[o],...s};let c=await this.write(t.file,r,i,`[github-crud] Update ${t.label}#${e} by @${a}`);return{record:r[o],sha:c}}async remove(t,e,s){var c,l;let{data:a,sha:r}=await this.read(t.file),i=((l=(c=t.schema)==null?void 0:c.find(d=>d.auto))==null?void 0:l.key)||"id",n=a.filter(d=>String(d[i])!==String(e));if(n.length===a.length)throw new Error(`Record dengan id=${e} tidak ditemukan.`);return{sha:await this.write(t.file,n,r,`[github-crud] Delete ${t.label}#${e} by @${s}`)}}async query(t,{filter:e,sort:s,order:a="asc",limit:r,offset:i=0}={}){let{data:n}=await this.read(t.file),o=[...n];e&&(o=o.filter(l=>Object.entries(e).every(([d,u])=>String(l[d])===String(u)))),s&&o.sort((l,d)=>{let u=String(l[s]??"").localeCompare(String(d[s]??""),void 0,{numeric:!0});return a==="desc"?-u:u});let c=o.length;return i&&(o=o.slice(i)),r&&(o=o.slice(0,r)),{data:o,total:c}}};var v={none:0,read:1,write:2,all:3},$=class{constructor(t){this.role=t}_level(t){var e;return v[(e=t.roles)==null?void 0:e[this.role]]??0}canRead(t){return this._level(t)>=v.read}canWrite(t){return this._level(t)>=v.write}canDelete(t){return this._level(t)>=v.all}get(t){var e;return((e=t.roles)==null?void 0:e[this.role])||"none"}};var A={text:"text",email:"email",url:"url",number:"number",date:"date",datetime:"datetime-local",color:"color",password:"password"},m=class h{static build(t,e={}){return t.map(s=>h._field(s,e)).join("")}static _field(t,e){if(t.auto&&e[t.key]===void 0)return"";let s=e[t.key]??t.default??"",a=t.readonly||t.auto&&e[t.key]!==void 0,r=t.required&&!a?'<span class="gc-req">*</span>':"",i=t.hint?`<div class="gc-field-hint">${p(t.hint)}</div>`:"",n;if(t.type==="boolean"){let o=s===!0||s==="true"?"checked":"";n=`<div class="gc-toggle-wrap">
        <label class="gc-toggle">
          <input type="checkbox" name="${t.key}" ${o} ${a?"disabled":""}>
          <span class="gc-toggle-track"></span>
        </label>
        <span class="gc-toggle-label" data-gc-toggle-label="${t.key}">
          ${s===!0||s==="true"?t.trueLabel||"Ya":t.falseLabel||"Tidak"}
        </span>
      </div>`}else if(t.type==="select"){let o=(t.options||[]).map(c=>{let l=typeof c=="object"?c.value:c,d=typeof c=="object"?c.label:c;return`<option value="${p(l)}" ${l==s?"selected":""}>${p(d)}</option>`}).join("");n=`<select name="${t.key}" class="gc-control gc-select" ${a?"disabled":""}>
        <option value="">\u2014 Pilih \u2014</option>${o}
      </select>`}else t.type==="textarea"?n=`<textarea name="${t.key}" class="gc-control" rows="${t.rows||3}"
        placeholder="${p(t.placeholder||"")}"
        ${a?"readonly":""}
        ${t.required&&!a?"required":""}
      >${p(String(s))}</textarea>`:n=`<input type="${A[t.type]||"text"}" name="${t.key}" class="gc-control"
        value="${p(String(s))}"
        placeholder="${p(t.placeholder||"")}"
        ${a?"readonly":""}
        ${t.required&&!a?"required":""}
        ${t.min!==void 0?`min="${t.min}"`:""}
        ${t.max!==void 0?`max="${t.max}"`:""}
        ${t.step!==void 0?`step="${t.step}"`:""}
        ${t.minLength?`minlength="${t.minLength}"`:""}
        ${t.maxLength?`maxlength="${t.maxLength}"`:""}
        ${t.pattern?`pattern="${t.pattern}"`:""}
      />`;return`<div class="gc-field" data-key="${t.key}">
      <label class="gc-label">${p(t.label)} ${r}</label>
      ${n}${i}
    </div>`}static collect(t,e){let s={};for(let a of t){let r=e.querySelector(`[name="${a.key}"]`);r&&(a.type==="boolean"?s[a.key]=r.checked:a.type==="number"?s[a.key]=r.value===""?null:Number(r.value):s[a.key]=r.value)}return s}static validate(t,e){for(let s of t){if(s.auto||s.readonly)continue;let a=e[s.key],r=a==null||a==="";if(s.required&&r)return`"${s.label}" wajib diisi.`;if(!r){if(s.type==="email"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return`"${s.label}" harus berformat email yang valid.`;if(s.type==="url"&&!/^https?:\/\/.+/.test(a))return`"${s.label}" harus diawali https://.`;if(s.type==="number"){if(s.min!==void 0&&a<s.min)return`"${s.label}" minimal ${s.min}.`;if(s.max!==void 0&&a>s.max)return`"${s.label}" maksimal ${s.max}.`}if(s.minLength&&String(a).length<s.minLength)return`"${s.label}" minimal ${s.minLength} karakter.`;if(s.maxLength&&String(a).length>s.maxLength)return`"${s.label}" maksimal ${s.maxLength} karakter.`;if(s.pattern&&!new RegExp(s.pattern).test(a))return`"${s.label}" format tidak valid.`}}return null}static bindToggles(t){t.querySelectorAll(".gc-toggle input[type=checkbox]").forEach(e=>{var r;let s=t.querySelector(`[data-gc-toggle-label="${e.name}"]`);if(!s)return;let a=(r=t._gcSchema)==null?void 0:r.find(i=>i.key===e.name);e.addEventListener("change",()=>{s.textContent=e.checked?(a==null?void 0:a.trueLabel)||"Ya":(a==null?void 0:a.falseLabel)||"Tidak"})})}};function p(h){return String(h).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var y=25;function g(h){return String(h).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var f=class{constructor({collection:t,db:e,permissions:s,user:a,onStatus:r,onToast:i}){this.col=t,this.db=e,this.perm=s,this.user=a,this.onStatus=r||(()=>{}),this.onToast=i||(()=>{}),this._data=[],this._sha=null,this._sort=null,this._dir="asc",this._q="",this._page=1,this._root=null,this._modal=null}mount(t,e){if(this._root=typeof t=="string"?document.querySelector(t):t,this._modal=typeof e=="string"?document.querySelector(e):e,!this._root)throw new Error(`[github-crud] Container "${t}" tidak ditemukan.`);return this.refresh(),this}async refresh(){this.onStatus("loading");try{let{data:t,sha:e}=await this.db.getAll(this.col);this._data=t,this._sha=e,this._draw(),this.onStatus("ready",t.length)}catch(t){this.onStatus("error",t.message),this.onToast(t.message,"error")}}_draw(){let{col:t,perm:e}=this,s=t.schema||[],a=s.filter(u=>!u.hidden),r=e.canRead(t),i=e.canWrite(t),n=e.canDelete(t),o=[...this._data];if(this._q){let u=this._q.toLowerCase();o=o.filter(S=>a.some(w=>String(S[w.key]??"").toLowerCase().includes(u)))}this._sort&&o.sort((u,S)=>{let w=String(u[this._sort]??"").localeCompare(String(S[this._sort]??""),void 0,{numeric:!0});return this._dir==="desc"?-w:w});let c=o.length,l=Math.max(1,Math.ceil(c/y));this._page=Math.min(this._page,l);let d=o.slice((this._page-1)*y,this._page*y);this._root.innerHTML=`<div class="gc-wrap">${this._drawToolbar(c,i)}${r?d.length===0?this._drawEmpty(i):`<div class="gc-scroll"><table class="gc-table">${this._drawHead(a,i||n)}${this._drawBody(d,a,i,n)}</table></div>${l>1?this._drawPager(c,l):""}`:'<div class="gc-empty"><span>\u{1F512}</span><p>Kamu tidak punya akses ke tabel ini.</p></div>'}</div>`,this._bind()}_drawToolbar(t,e){return`<div class="gc-toolbar"><input class="gc-search" placeholder="Cari\u2026" value="${g(this._q)}" data-gc="search"/><div class="gc-toolbar-r"><span class="gc-count">${t} baris</span><button class="gc-btn gc-ghost gc-sm" data-gc="refresh">\u21BB Refresh</button>${e?'<button class="gc-btn gc-primary gc-sm" data-gc="add">+ Tambah</button>':""}</div></div>`}_drawEmpty(t){return`<div class="gc-empty"><span>\u{1F4ED}</span><p>${this._q?"Tidak ada hasil.":"Belum ada data di tabel ini."}</p>${t&&!this._q?'<button class="gc-btn gc-primary" data-gc="add" style="margin-top:.75rem">+ Tambah data pertama</button>':""}</div>`}_drawHead(t,e){return`<thead><tr>${t.map(a=>`<th class="gc-th ${this._sort===a.key?`gc-sort-${this._dir}`:""}" data-gc="sort" data-key="${a.key}">${g(a.label)}</th>`).join("")}${e?'<th class="gc-th gc-th-act">Aksi</th>':""}</tr></thead>`}_drawBody(t,e,s,a){var i,n;let r=((n=(i=this.col.schema)==null?void 0:i.find(o=>o.auto))==null?void 0:n.key)||"id";return`<tbody>${t.map(o=>{let c=o[r],l=e.map(u=>`<td class="gc-td" title="${g(String(o[u.key]??""))}">${this._cell(u,o[u.key])}</td>`).join(""),d=s||a?`<td class="gc-td gc-td-act">${s?`<button class="gc-btn gc-outline gc-sm" data-gc="edit" data-id="${c}">\u270F Edit</button>`:""}${a?`<button class="gc-btn gc-danger gc-sm" data-gc="del" data-id="${c}">\u2715</button>`:""}</td>`:"";return`<tr class="gc-tr">${l}${d}</tr>`}).join("")}</tbody>`}_cell(t,e){if(e==null)return'<span class="gc-null">\u2013</span>';if(t.type==="boolean")return e?'<span class="gc-badge gc-badge-ok">\u2713 Ya</span>':'<span class="gc-badge gc-badge-off">\u2717 Tidak</span>';if(t.type==="select")return`<span class="gc-badge">${g(String(e))}</span>`;if(t.type==="url")return`<a class="gc-link" href="${g(String(e))}" target="_blank" rel="noopener">${g(String(e))}</a>`;if(t.type==="date"||t.type==="datetime")try{return new Date(e).toLocaleString("id-ID",{dateStyle:"medium",...t.type==="datetime"?{timeStyle:"short"}:{}})}catch{return g(String(e))}let s=String(e);return g(s.length>64?s.slice(0,61)+"\u2026":s)}_drawPager(t,e){let s=this._page,a=(s-1)*y+1,r=Math.min(s*y,t),i="";for(let n=1;n<=e;n++)n===1||n===e||Math.abs(n-s)<=1?i+=`<button class="gc-pg ${n===s?"gc-pg-on":""}" data-gc="page" data-p="${n}">${n}</button>`:Math.abs(n-s)===2&&(i+='<span class="gc-pg-dot">\u2026</span>');return`<div class="gc-pager"><button class="gc-pg" data-gc="page" data-p="${s-1}" ${s<=1?"disabled":""}>\u2039</button>${i}<button class="gc-pg" data-gc="page" data-p="${s+1}" ${s>=e?"disabled":""}>\u203A</button><span class="gc-pager-info">${a}\u2013${r} dari ${t}</span></div>`}_bind(){var s;let t=(a,r,i)=>this._root.querySelectorAll(a).forEach(n=>n.addEventListener(r,i)),e;(s=this._root.querySelector('[data-gc="search"]'))==null||s.addEventListener("input",a=>{clearTimeout(e),e=setTimeout(()=>{this._q=a.target.value,this._page=1,this._draw()},220)}),t('[data-gc="refresh"]',"click",()=>this.refresh()),t('[data-gc="add"]',"click",()=>this._openForm(null)),t('[data-gc="sort"]',"click",a=>{let r=a.currentTarget.dataset.key;this._dir=this._sort===r&&this._dir==="asc"?"desc":"asc",this._sort=r,this._draw()}),t('[data-gc="edit"]',"click",a=>{var n,o;let r=((o=(n=this.col.schema)==null?void 0:n.find(c=>c.auto))==null?void 0:o.key)||"id",i=this._data.find(c=>String(c[r])===a.currentTarget.dataset.id);i&&this._openForm(i)}),t('[data-gc="del"]',"click",a=>this._confirmDel(a.currentTarget.dataset.id)),t('[data-gc="page"]',"click",a=>{let r=Number(a.currentTarget.dataset.p),i=Math.ceil(this._data.length/y);r>=1&&r<=i&&(this._page=r,this._draw())})}_ensureModal(){return this._modal||(this._modal=document.createElement("div"),this._modal.className="gc-modal",document.body.appendChild(this._modal)),this._modal}_openForm(t){var r;let e=this._ensureModal(),s=t!==null,a=this.col.schema||[];e.innerHTML=`<div class="gc-modal-box"><div class="gc-modal-head"><span class="gc-modal-title">${s?`\u270F Edit \u2014 ${g(this.col.label)}`:`+ Tambah \u2014 ${g(this.col.label)}`}</span><button class="gc-modal-x" data-gc="close">\u2715</button></div><div class="gc-modal-body">${m.build(a,t||{})}</div><div class="gc-modal-foot"><button class="gc-btn gc-ghost gc-sm" data-gc="close">Batal</button><button class="gc-btn gc-primary gc-sm" data-gc="submit">Simpan</button></div></div>`,e.classList.add("gc-open"),m.bindToggles(e),e.querySelectorAll('[data-gc="close"]').forEach(i=>i.addEventListener("click",()=>this._closeModal())),(r=e.querySelector('[data-gc="submit"]'))==null||r.addEventListener("click",()=>this._submit(a,t))}_closeModal(){var t;(t=this._modal)==null||t.classList.remove("gc-open")}async _submit(t,e){var i;let s=this._modal.querySelector(".gc-modal-body"),a=m.collect(t,s),r=m.validate(t,a);if(r){this.onToast(r,"warn");return}this._closeModal(),this.onStatus("saving");try{let n=((i=t.find(o=>o.auto))==null?void 0:i.key)||"id";e?(await this.db.update(this.col,e[n],a,this.user.login),this.onToast("Data berhasil diperbarui.","success")):(await this.db.insert(this.col,a,this.user.login),this.onToast("Data berhasil ditambahkan.","success")),await this.refresh()}catch(n){this.onStatus("error",n.message),this.onToast(n.message,"error")}}async _confirmDel(t){var i,n;let e=((n=(i=this.col.schema)==null?void 0:i.find(o=>o.auto))==null?void 0:n.key)||"id",s=this._data.find(o=>String(o[e])===t),a=s?Object.values(s).slice(1,3).join(" \xB7 "):`id=${t}`;if(await this._confirm("Hapus data ini?",`${a}

Tindakan ini tidak dapat dibatalkan.`)){this.onStatus("saving");try{await this.db.remove(this.col,t,this.user.login),this.onToast("Data berhasil dihapus.","success"),await this.refresh()}catch(o){this.onStatus("error",o.message),this.onToast(o.message,"error")}}}_confirm(t,e){return new Promise(s=>{let a=this._ensureModal();a.innerHTML=`<div class="gc-modal-box gc-modal-sm"><div class="gc-modal-head"><span class="gc-modal-title">${g(t)}</span></div><div class="gc-modal-body"><p class="gc-confirm-msg">${g(e)}</p></div><div class="gc-modal-foot"><button class="gc-btn gc-ghost gc-sm" data-ans="false">Batal</button><button class="gc-btn gc-danger gc-sm" data-ans="true">Ya, Hapus</button></div></div>`,a.classList.add("gc-open"),a.querySelectorAll("[data-ans]").forEach(r=>r.addEventListener("click",()=>{this._closeModal(),s(r.dataset.ans==="true")}))})}};function x(){let h=document.querySelector(".gc-toasts");return h||(h=Object.assign(document.createElement("div"),{className:"gc-toasts"}),document.body.appendChild(h)),function(e,s="info",a=3500){let r={success:"\u2705",error:"\u274C",warn:"\u26A0\uFE0F",info:"\u2139\uFE0F"},i=Object.assign(document.createElement("div"),{className:`gc-toast gc-toast-${s}`,innerHTML:`<span>${r[s]||""}</span><span>${e}</span>`});h.appendChild(i),setTimeout(()=>i.remove(),a)}}var k=class{constructor(t){this._cfg=t,this._auth=new b(t),this._db=null,this._perm=null,this._user=null,this._role=null,this._toast=null,this._tables=new Map}login(){this._auth.login()}logout(){this._auth.logout()}async init(){let t=await this._auth.init();return t?(this._user=t.user,this._role=t.role,this._db=new _(this._cfg,t.token),this._perm=new $(t.role),this._toast=x(),t):null}get user(){return this._user}get role(){return this._role}get isLoggedIn(){return!!this._user}get db(){return this._db}async getAll(t){return this._db.getAll(this._resolve(t))}async query(t,e){return this._db.query(this._resolve(t),e)}async insert(t,e){return this._checkPerm("write",t),this._db.insert(this._resolve(t),e,this._user.login)}async update(t,e,s){return this._checkPerm("write",t),this._db.update(this._resolve(t),e,s,this._user.login)}async remove(t,e){return this._checkPerm("delete",t),this._db.remove(this._resolve(t),e,this._user.login)}mountTable(t,e,s){this._requireDb();let a=this._resolve(t),r=s?typeof s=="string"?document.querySelector(s):s:(()=>{let n=Object.assign(document.createElement("div"),{className:"gc-modal"});return document.body.appendChild(n),n})(),i=new f({collection:a,db:this._db,permissions:this._perm,user:this._user,onStatus:(n,o)=>document.dispatchEvent(new CustomEvent("gc:status",{detail:{state:n,detail:o,label:a.label}})),onToast:(n,o)=>this._toast(n,o)});return i.mount(e,r),this._tables.set(a.id||a.file,i),i}getTable(t){return this._tables.get(t)}renderLoginCard(t,e={}){var i;let s=typeof t=="string"?document.querySelector(t):t;if(!s)return;let{repoOwner:a,repoName:r}=this._cfg;s.innerHTML=`
      <div class="gc-login-card">
        ${e.errorMessage?`<div class="gc-login-err">\u26A0\uFE0F ${e.errorMessage}</div>`:""}
        <div class="gc-login-icon">\u2B21</div>
        <div class="gc-login-title">${e.title||"github<em>\u2013</em>crud"}</div>
        <div class="gc-login-desc">${e.description||`Masuk dengan GitHub untuk melanjutkan.<br/>
           Hanya collaborator <strong>${a}/${r}</strong> yang dapat akses.`}</div>
        <button class="gc-login-btn">
          <svg height="18" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38
              0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53
              .63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95
              0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09
              2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65
              3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
          </svg>
          Masuk dengan GitHub
        </button>
        <div class="gc-login-note">${e.note||"Kamu perlu menerima undangan collaborator terlebih dahulu."}</div>
      </div>`,(i=s.querySelector(".gc-login-btn"))==null||i.addEventListener("click",()=>this.login())}toast(t,e="info"){(this._toast||x())(t,e)}_requireDb(){if(!this._db)throw new Error("[github-crud] Panggil await gc.init() terlebih dahulu.")}_resolve(t){var e;return typeof t!="string"?t:((e=this._cfg.collections)==null?void 0:e.find(s=>s.id===t||s.file===t))||{id:t,label:t,file:t,roles:{},schema:[]}}_checkPerm(t,e){this._requireDb();let s=this._resolve(e);if(!(t==="delete"?this._perm.canDelete(s):this._perm.canWrite(s)))throw new Error(`Role "${this._role}" tidak punya izin "${t}" pada ${s.label}.`)}},O=k;typeof window<"u"&&(window.GithubCRUD=k);return C(N);})();
if(typeof window!=="undefined"){window.GithubCRUD=GithubCRUDLib.GithubCRUD;window.GithubCRUDLib=GithubCRUDLib;}
//# sourceMappingURL=github-crud.umd.cjs.map
